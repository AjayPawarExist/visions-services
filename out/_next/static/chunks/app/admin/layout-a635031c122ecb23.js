(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{8171:function(e,n,t){Promise.resolve().then(t.bind(t,2307))},2307:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(7437),a=t(2265),u=t(9376);function o(e){let{children:n}=e,t=(0,u.useRouter)(),o=(0,u.usePathname)();return(0,a.useEffect)(()=>{if("/admin/login"===o||!(()=>{let e=localStorage.getItem("admin_token"),n=localStorage.getItem("admin_user");if(!e||!n)return t.replace("/admin/login"),!1;try{let e=JSON.parse(n);if(!e||!e.id||!e.username)throw Error("Invalid user data");return!0}catch(e){return localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),t.replace("/admin/login"),!1}})())return;let e=e=>{"admin_token"!==e.key&&"admin_user"!==e.key||e.newValue||t.replace("/admin/login")};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[t,o]),(0,r.jsx)(r.Fragment,{children:n})}},9376:function(e,n,t){"use strict";var r=t(5475);t.o(r,"useParams")&&t.d(n,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8171)}),_N_E=e.O()}]);